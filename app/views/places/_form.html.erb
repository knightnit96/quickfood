<%= form_for @place do |f| %>
  <%= render "shared/error_messages", object: f.object %>
  <div class="row">
    <div class="col-md-6 col-sm-6">
      <div class="form-group">
        <%= f.label :name %>
        <%= f.text_field :name, autocomplete: "name", class: "form-control" %>
      </div>
    </div>
    <div class="col-md-6 col-sm-6">
      <div class="form-group">
        <%= f.label :phone %>
        <%= f.telephone_field :phone, autocomplete: "phone", class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-sm-6">
      <div class="form-group">
        <%= f.label :email %>
        <%= f.email_field :email, autocomplete: "email", class: "form-control" %>
      </div>
    </div>
    <div class="col-md-6 col-sm-6">
      <div class="form-group">
        <%= f.label :website %>
        <%= f.text_field :website, autocomplete: "website", class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <div class="row">
        <div class="col-md-12 col-sm-12">
          <div class="form-group">
            <%= f.label :category %>
            <%= f.collection_select :category_id, @categories, :id, :name, {include_blank: "Chọn danh mục"}, {class: "form-control"} %>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-8">
      <%= f.label :province %>
      <div class="row">
        <div class="col-md-6 col-sm-6">
          <div class="form-group">
            <%= select_tag "province_parent", options_from_collection_for_select(@provinces, "id", "name", load_parent_province(@place.province_id)), include_blank: "Chọn tỉnh thành", class: "form-control", id: "province-parent" %>
          </div>
        </div>
        <div class="col-md-6 col-sm-6">
          <div class="form-group">
            <% if @place.province_id.present? %>
              <%= f.select :province_id, options_from_collection_for_select(load_list_child_province(@place.province_id), "id", "name", load_province(@place.province_id)), {include_blank: "Chọn quận/huyện"}, class: "form-control" %>
            <% else %>
              <%= f.select :province_id, "", {include_blank: "Chọn quận/huyện"}, class: "form-control" %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="form-group">
        <%= f.label :address %>
        <%= f.text_field :address, autocomplete: "address", class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="form-group">
        <%= f.label :detail_direction %>
        <%= f.text_field :detail_direction, autocomplete: "detail_direction", class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="form-group">
        <%= f.label :description %>
        <%= f.text_area :description, autocomplete: "description", class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="form-group">
        <label><%= t ".location" %></label>
        <div class="text-center"><a href data-toggle="modal" data-target="#modal_map" class="btn_full_outline"><%= t ".update_location" %></a></div>
      </div>
    </div>
  </div>
  <hr class="styled">
  <h3 class="nomargin_top text-center"><%= t ".more_information" %></h3>
  <div class="row">
    <div class="col-md-12 col-sm-12">
      <div class="form-group">
        <%= f.label :capacity %>
        <%= f.number_field :capacity, autocomplete: "capacity", min: 0, class: "form-control" %>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 col-sm-6">
      <div class="form-group">
        <%= f.label :start_time %>
        <%= f.text_field :start_time, class: "time-pick form-control" %>
      </div>
    </div>
    <div class="col-md-6 col-sm-6">
      <div class="form-group">
        <%= f.label :close_time %>
        <%= f.text_field :close_time, class: "time-pick form-control" %>
      </div>
    </div>
  </div>
  <hr class="styled">
  <h3 class="nomargin_top text-center"><%= t ".classify_category" %></h3>
  <% @parent_classify_categories.each do |parent_cc| %>
    <div class="row">
      <div class="col-md-12 col-sm-12">
        <div class="form-group">
          <label for="classify_category_<%= parent_cc.id %>"><%= parent_cc.name %></label>
          <%= select_tag "classify_category_"+parent_cc.id.to_s, options_from_collection_for_select(load_list_child_classify_category(parent_cc.id), "id", "name"), include_blank: "-- Lựa chọn --", class: "form-control select-box-classify-category", data: {id: parent_cc.id} %>
        </div>
        <div class="tags" id="tags_classify_category_<%= parent_cc.id %>">
          <% load_list_child_classify_category(parent_cc.id).each do |cc| %>
            <% if @list_classify_category&.include? cc.id %>
              <a href="javascript:void(0)" class="nomargin tag-classify-category" id="tag-classify-category-<%= cc.id %>" data-id="<%= parent_cc.id %>" data-value-id="<%= cc.id %>"><i class="icon-cancel-circled-1"></i><%= cc.name %></a>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
  <% if @list_classify_category %>
    <%= hidden_field_tag "list_classify_category", @list_classify_category.map(&:inspect).join(","), class: "form-control" %>
  <% else %>
    <%= hidden_field_tag "list_classify_category", "", class: "form-control" %>
  <% end %>

  <%= hidden_field_tag "longitude", @place.longitude, class: "form-control" %>
  <%= hidden_field_tag "latitude", @place.latitude, class: "form-control" %>
  <hr class="styled">
  <div class="text-center"><%= f.submit t(".submit"), class: "btn_full_outline" %></div>
<% end %>

<%= javascript_include_tag "custom_datetime" %>
<%= javascript_include_tag "place" %>
